coverage_threshold: 0.0
base_url: https://messaging.bandwidth.com/api/v2
auth:
  username: ${{ env.BW_USERNAME }}
  password: ${{ env.BW_PASSWORD }}
operations:
  - name: createMessageSuccessful
    operation_id: CreateMessage
    method: POST
    headers:
      Content-Type: application/json
    url: /users/${{ env.BW_ACCOUNT_ID }}/messages
    body:
      to: ${{ env.USER_NUMBER }}
      from: ${{ env.BW_NUMBER }}
      text: contract test
      applicationId: ${{ env.BW_MESSAGING_APPLICATION_ID }}
    status_code: 202
  # - name: getMessageSuccessful
  #   operation_id: GetMessages
  #   method: GET
  #   url: /users/${{ env.BW_ACCOUNT_ID }}/messages
  #   params:
  #     messageId: ${{ operations.createMessageSuccessful.response.body.id }}
  #   status_code: 200
  # - name: listMediaSuccessful
  #   operation_id: ListMedia
  #   method: GET
  #   url: /users/${{ env.BW_ACCOUNT_ID }}/media
  #   status_code: 200
  # - name: getMediaSuccessful
  #   operation_id: GetMedia
  #   method: GET
  #   url: /users/${{ env.BW_ACCOUNT_ID }}/media/${{ operations.listMediaSuccessful.response.body[1]['mediaName'] }}
  #   status_code: 200
